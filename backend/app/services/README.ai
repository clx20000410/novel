AIDIR PATH=backend/app/services|ROLE=业务服务_核心业务逻辑实现|BOUND=不含API路由_不含数据模型定义|ENTRY=NO_ENTRY|EXPOSE=internal|FIND=小说:novel_service.py_LLM:llm_service.py_情感:emotion_service.py_定稿:finalize_service.py_一致性:consistency_service.py
AILIST NAME=__init__.py|K=file|P=服务包初始化_导出所有服务类|E=-|A=-
AILIST NAME=admin_setting_service.py|K=file|P=管理员设置服务_设置业务逻辑|E=AdminSettingService|A=设置读写_验证
AILIST NAME=auth_service.py|K=file|P=认证服务_登录注册业务逻辑|E=AuthService|A=登录_注册_令牌
AILIST NAME=cache_service.py|K=file|P=缓存服务_Redis缓存操作|E=CacheService|A=缓存读写_失效
AILIST NAME=chapter_context_service.py|K=file|P=章节上下文服务_章节关联信息|E=ChapterContextService|A=上下文获取_关联分析
AILIST NAME=chapter_ingest_service.py|K=file|P=章节导入服务_批量章节导入|E=ChapterIngestService|A=批量导入_格式解析
AILIST NAME=character_knowledge_manager.py|K=file|P=角色知识管理_主角认知建模|E=CharacterKnowledgeManager|A=知识库_角色出场_认知约束
AILIST NAME=config_service.py|K=file|P=配置服务_系统配置业务逻辑|E=ConfigService|A=配置读写
AILIST NAME=creative_guidance_system.py|K=file|P=创意指导系统_写作建议生成|E=CreativeGuidanceSystem|A=优劣势分析_指导建议
AILIST NAME=emotion_analyzer_enhanced.py|K=file|P=增强情感分析_多维情感识别|E=EmotionAnalyzerEnhanced|A=8种情感_叙事阶段_转折点
AILIST NAME=emotion_service.py|K=file|P=情感服务_情感曲线分析|E=EmotionService|A=情感分析_曲线生成
AILIST NAME=foreshadowing_service.py|K=file|P=伏笔服务_伏笔管理业务逻辑|E=ForeshadowingService|A=伏笔CRUD_回收追踪
AILIST NAME=import_service.py|K=file|P=导入服务_小说导入业务逻辑|E=ImportService|A=小说导入_格式转换
AILIST NAME=llm_config_service.py|K=file|P=LLM配置服务_模型配置业务逻辑|E=LLMConfigService|A=配置管理_模型选择
AILIST NAME=llm_service.py|K=file|P=LLM服务_大模型调用封装|E=LLMService|A=API调用_流式生成
AILIST NAME=novel_service.py|K=file|P=小说服务_小说管理业务逻辑|E=NovelService|A=小说CRUD_章节管理
AILIST NAME=outline_rewriter.py|K=file|P=大纲转写器_标签移除和后处理|E=OutlineRewriter_PostProcessor|A=标签移除_列表转换_视角验证
AILIST NAME=pacing_controller.py|K=file|P=节奏控制器_情绪曲线规划|E=PacingController|A=三幕结构_英雄之旅_曲线验证
AILIST NAME=prompt_service.py|K=file|P=提示词服务_提示模板管理|E=PromptService|A=提示词加载_缓存
AILIST NAME=prompt_templates_optimized.py|K=file|P=优化提示模板_系统规约和生成模板|E=SYSTEM_MESSAGE_NOVELIST_generate_chapter_prompt|A=系统消息_章节生成_大纲生成
AILIST NAME=story_trajectory_analyzer.py|K=file|P=故事轨迹分析_6种故事形状识别|E=StoryTrajectoryAnalyzer|A=形状识别_关键点检测
AILIST NAME=test_phase4_integration.py|K=file|P=第四阶段集成测试_功能验证|E=test_main|A=单元测试_集成测试
AILIST NAME=update_log_service.py|K=file|P=更新日志服务_日志业务逻辑|E=UpdateLogService|A=日志CRUD
AILIST NAME=usage_service.py|K=file|P=使用统计服务_API调用统计|E=UsageService|A=统计记录_限额检查
AILIST NAME=user_service.py|K=file|P=用户服务_用户管理业务逻辑|E=UserService|A=用户CRUD_权限
AILIST NAME=vector_store_service.py|K=file|P=向量存储服务_文本向量化|E=VectorStoreService|A=向量存储_相似搜索
AILIST NAME=vector_store_service_ext.py|K=file|P=向量存储服务扩展_章节写入和搜索|E=VectorStoreServiceExt|A=章节分块_向量化_搜索
AILIST NAME=finalize_service.py|K=file|P=定稿服务_章节定稿和记忆更新|E=FinalizeService|A=定稿_摘要更新_状态更新_向量库写入
AILIST NAME=consistency_service.py|K=file|P=一致性检查服务_剧情逻辑矛盾检测|E=ConsistencyService|A=一致性检查_冲突检测_修复建议
AILIST NAME=knowledge_retrieval_service.py|K=file|P=知识检索服务_两层RAG检索过滤|E=KnowledgeRetrievalService|A=检索_过滤_POV裁剪
AILIST NAME=enrichment_service.py|K=file|P=章节扩写服务_字数不足自动扩写|E=EnrichmentService|A=字数检测_扩写生成
AILIST NAME=blueprint_service.py|K=file|P=章节蓝图服务_蓝图元数据管理|E=BlueprintService|A=蓝图CRUD_元数据生成
